<!DOCTYPE html>
<html>
  <head>
    <title>GestureRecognition demo</title>
    <link rel="stylesheet" href="./assets/normalize.css" />
    <link rel="stylesheet" href="./assets/main.css" />
    <style>
      /* begin demo embedded styles */

      /* end demo embedded styles */
    </style>
  </head>
  <body>
    <h1>GestureRecognition demo</h1>

    <h3>Movement: <span class="movement"></span></h3>
    <h3>Gesture: <span class="gesture"></span></h3>

    <p>See the <a href="http://riomus.github.io/GestureRecognition">project homepage</a>.
    <p>Check out the <a href="https://github.com/riomus/GestureRecognition">project repo</a>.
    <p>Copyright 2014 Roman Bartusiak</p>

    <script src="js/tracking-min.js"></script>
    <script src="js/HMM.js"></script>
    <script src="js/OpticalFlow.min.js"></script>
    <script src="js/GestureRecognition.js"></script>

    <script>
      /* begin demo script */

      var gestureRecognition =new GestureRecognition({
        'getVideoElement':function(){
      var element=document.createElement('video');
      element.style.position='absolute';
      element.style.right='10px';
      element.style.top='10px';
      element.style.width='200px';
      element.style.height='150px';
      element.autoplay=true;
      element.preload=true;
      element.muted=true;
      element.looped=true;
      document.body.appendChild(element);
      return element;
    },
    'gestures':{
      'hearth':[["NE","W","W","W","WS","WS","WS","S","S","NE","N","N","W","WS","WS","WS","S","S","ES","ES","ES"],["NE","NE","E","E","E","W","W","W","WS","WS","S","S","N","NW","W","WS","WS","S","ES","ES","ES"],["NE","E","E","S","W","W","WS","WS","WS","S","ES","N","W","WS","WS","S","S","ES","ES"],["NE","E","E","W","WS","WS","WS","S","NE","N","NW","WS","WS","WS","S","S","S","S","ES","ES"],["E","E","E","E","W","W","WS","WS","WS","NE","N","W","WS","WS","S","ES","E"],["NE","NE","E","E","NW","W","W","W","WS","WS","WS","NE","N","NW","W","WS","WS","WS","S","S","S"],["N","NE","NE","NE","NE","NE","N","NW","W","WS","WS","WS","N","N","NW","W","WS","S","S","ES","E","ES"],["NE","NE","NE","N","NW","W","W","W","WS","WS","WS","WS","WS","S","NE","N","NW","W","WS","WS","WS","S","S","ES","ES"],["NE","NE","E","NE","E","E","WS","WS","WS","WS","WS","NE","N","N","W","WS","WS","WS","S","S","ES","ES","ES","ES"]]
    },
    'hmm':{
      'states':['a','b','c','d','e'],
      'symbols':['E','NE','N','NW','W','WS','S','ES'],
      'startProbability':{'a':0.1,'b':0.1,'c':0.1,'d':0.1,'e':0.1},
      'minimalProbabilityFactor':0.99
    }
      });

      gestureRecognition.startTracking();
      var movementElement=document.querySelector('.movement');
      var gestureElement=document.querySelector('.gesture');

      gestureRecognition.onMove(function(data){
        movementElement.innerHTML=data;
      });

      var timer=setTimeout(function(){},0);
      gestureRecognition.onDetect(function(data){
        clearTimeout(timer);
        gestureElement.innerHTML=data.name+' '+data.data[0];
        timer=setTimeout(function(){
        gestureElement.innerHTML='';
        },1000);
      });

      console.log(gestureRecognition);

      /* end demo script */
    </script>
  </body>
</html>
